<div class="pasajes-lista">
  <ng-container *ngFor="let pasaje of pasajes; let i = index">
    <ng-container *ngIf="i === 1">
      <div class="viajes-anteriores-separador">
        <span>v------------ Viajes Anteriores -----------v</span>
      </div>
    </ng-container>
    <mat-card class="home-card">
      <mat-card class="resumen-detalles">
        <div class="origen-row">
          <span><strong>Origen:</strong> {{ pasaje.origen }}</span>
          <span class="map-btn-wrapper">
            <button class="map-btn" (click)="guardarOrigenDestino(pasaje)">
              <ion-icon name="map-outline"></ion-icon>
            </button>
          </span>
        </div>
        <span><strong>Destino:</strong> {{ pasaje.destino }}</span>
        <span><strong>Salida:</strong> {{ pasaje.salida }}</span>
        <span><strong>NÂ° Asiento(s):</strong> {{ pasaje.asientos }}</span>
        <div class="resaltador-qr" (click)="mostrarQRModal(pasaje, i)">
          <span class="resaltador-texto">Mostrar cÃ³digo QR de pasaje:</span>
          <ion-icon name="qr-code-outline" class="qr-icon"></ion-icon>
        </div>
        <ng-container *ngIf="pasajeQR && pasajeQR.id_pasaje === pasaje.id_pasaje && pasajeQRIndex === i">
          <mat-card class="qr-mat-card">
            <div class="qr-mat-card-content">
              <canvas #qrCanvas width="256" height="256" style="display:block;margin:auto;"></canvas>
              <button class="cerrar-btn" (click)="cerrarQRModal()">Cerrar</button>
            </div>
          </mat-card>
        </ng-container>
      </mat-card>
    </mat-card>
  </ng-container>
  <div *ngIf="!pasajes.length" class="sin-pasajes">No hay pasajes guardados.</div>
</div>
